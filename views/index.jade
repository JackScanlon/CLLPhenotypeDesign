extends layout
block vars
  - var description='Proposal - phenotype creation redesign'
block content
  nav.page-navigation
    section.container
      section.logo
      section.buttons
        section.items
          a.item(href="#", id="Home") Home
          a.item.active(href="#", id="Phenotypes") Phenotypes
          a.item(href="#", id="WorkingSets") Working Sets
          a.item(href="#", id="API") API
          a.item(href="#", id="About") About
          a.item(href="#", id="Login", role="login") Login
  
  main.page-content
    header
      section.breadcrumbs
        span.breadcrumb-item
          span.marker
          span.breadcrumb
            a(href="#") Phenotypes
        span.breadcrumb-item
          span.marker
          span.breadcrumb
            a(href="#") My Phenotypes
        span.breadcrumb-item
          span.marker
          span.breadcrumb
            a(href="#") Create a new Phenotype
    
    aside.steps-wizard 
      section.steps-panel(onselectstart="return false")
        span.wizard-header Skip to step...
        span.wizard-step-item(id="definition-step" data-value="1" data-target="definition-progress") Definition
        span.wizard-step-item(id="concept-step" data-value="2" data-target="concept-progress") Concepts
        span.wizard-step-item(id="publication-step" data-value="3" data-target="publication-progress") Publication
        span.wizard-step-item(id="validation-step" data-value="4" data-target="validation-progress") Validation
        span.wizard-step-item(id="permissions-step" data-value="5" data-target="permission-progress") Permissions

    article.creation-wizard
      section.header
        h1 Create a new Phenotype:
          span step by step
        p Follow the steps below to create and publish your phenotype.

      ol.progress
        li.progress-item(id="definition-progress")
          span.header Definition
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          
          label.input Name
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          input(aria-label="Phenotype Name", type="text", id="phenotype-name", name="phenotype-name", class="text-input", placeholder="", minlength="3", pattern="\w{1,}.*?", required)
          
          label.input Description
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          textarea(aria-label="Phenotype Description", id="phenotype-description", name="phenotype-description",class="text-area-input", rows="4", autocorrect="on", autocomplete="off", minlength="5", spellcheck="default", wrap="soft", pattern="\w{1,}.*?", required)
          
          label.input Author
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          input(aria-label="Phenotype Name", type="text", id="phenotype-name", name="phenotype-name", class="text-input", placeholder="", minlength="3", pattern="\w{1,}.*?", required)
          
          label.input Event date range
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          input(aria-label="Phenotype event date range", type="date", id="phenotype-entry-date", name="phenotype-entry-date", class="date-input", value="", min="2018-01-01", max="2022-10-11", pattern="\d{4}-\d{2}-\d{2}", required)

          label.input Type
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          select(aria-label="Select Phenotype Type", name="phenotype-type", id="phenotype-type", class="selection-input", required)
            option(disabled, value="", selected, hidden) Select
            option(value="0") Biomarker
            option(value="1") Disease or Syndrome
            option(value="2") Drug
            option(value="3") Lifestyle Risk Factor
          
          label.input Tags
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          input(aria-label="Phenotype Tags", type="text", id="phenotype-tags", name="phenotype-tags", class="text-input", placeholder="Add Tag...")
          
          label.input Collections
          span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          input(aria-label="Phenotype Collections", type="text", id="phenotype-collections", name="phenotype-collections", class="text-input", placeholder="Add Collection...")

        li.progress-item(id="concept-progress")
          span.header Concepts
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

          label.input Your Concepts
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit.
          section.concept-list
            span.concept-interaction
              button.secondary-btn.text-accent-darkest.bold.icon.import-icon.secondary-accent(aria-label="Create new Concept", id="create-concept-btn") New Concept
              button.secondary-btn.text-accent-darkest.bold.icon.create-icon.secondary-accent(aria-label="Import Concept", id="import-concept-btn") Import Concept
            div.concept-group
              span.concept-item.is-open
                span.contextual-icon
                span.concept-name Some concept name
                span.concept-buttons
                  span.edit-icon
                  span.delete-icon
              section.concept-content
                span.content
                  label Codelist
                  span.codelist
                    span.grid-header Code
                    span.grid-header Description
                    span C30.0
                    span Malignant neoplasms of respiratory and intrathoracic organs
                    span C30.0
                    span Malignant neoplasms of respiratory and intrathoracic organs
                    span C30.0
                    span Malignant neoplasms of respiratory and intrathoracic organs
            div.concept-group
              span.concept-item
                span.contextual-icon
                span.concept-name Some concept name
                span.concept-buttons
                  span.edit-icon
                  span.delete-icon
              section.concept-content
                span.content
            div.concept-group
              span.concept-item
                span.contextual-icon
                span.concept-name Some concept name
                span.concept-buttons
                  span.edit-icon
                  span.delete-icon
              section.concept-content
                span.content

        li.progress-item(id="publication-progress")
          span.header Publication
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          
          label.input Publications
          span.description Have you, or your research group, published a paper that uses or defines this phenotype?
          span.radio-group
            input(aria-label="Yes, I have published", type="radio", id="has-publication", name="phenotype-published", class="radio-input")
            label(for="has-publication") Yes
            input(aria-label="No, there are no publications", type="radio", id="no-publication", name="phenotype-published", class="radio-input", checked)
            label(for="no-publication") No

          label.input Publication links
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          input(aria-label="Publication link input", type="text", class="text-input", placeholder="e.g. https://www.doi.org/XX.XXXX/XXXXXXXXXX")

          span.publication-group(aria-hidden="false")
            label.publication-desc Your links:
            div.publication-set
              span.publication-headers
                span Primary Publication
                span Publication Links
              span.publication-list
                button.publication-item.is-primary(aria-label="Select as primary publication")
                  i
                  a(href='#') https://www.doi.org/XX.XXXX/XXXXXXXXXX
                button.publication-item(aria-label="Select as primary publication")
                  i
                  a(href='#') https://www.doi.org/XX.XXXX/XXXXXXXXXX

        li.progress-item(id="validation-progress")
          span.header Validation
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          
          label.input Has validation been performed?
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          span.radio-group
            input(aria-label="Yes, validation has been performd", type="radio", id="has-validation", name="phenotype-validation", class="radio-input")
            label(for="has-validation") Yes
            input(aria-label="No validation has been performed", type="radio", id="no-validation", name="phenotype-validation", class="radio-input", checked)
            label(for="no-validation") No
          
          label.input Validation description
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          textarea(aria-label="Phenotype validation description", id="phenotype-validation-description", name="phenotype-validation-description", class="text-area-input", rows="4", autocorrect="on", autocomplete="off", minlength="5", spellcheck="default", wrap="soft", pattern="\w{1,}.*?", required)

        li.progress-item(id="permission-progress")
          span.header Permissions
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.

          label.input Groups
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          span.description.normal Select the group, if any:
          select(aria-label="Select Phenotype Group", name="phenotype-group", id="phenotype-group", class="selection-input", required)
            option(disabled, value="", selected, hidden) Select
            option(value="0") ADP
            option(value="1") HDRUK
            option(value="2") BREATHE
            option(value="3") SAIL

          label.input Group read and write access
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          span.radio-group
            input(aria-label="No group access" type="radio" id="group-no-access" name="group-access" class="radio-input" checked)
            label(for="group-no-access") No access
            input(aria-label="Group able to view" type="radio" id="group-view-access" name="group-access" class="radio-input")
            label(for="group-view-access") Read
            input(aria-label="Group able to edit" type="radio" id="group-edit-access" name="group-access" class="radio-input")
            label(for="group-edit-access") Read and write

          label.input All other users
          span.description Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          span.radio-group
            input(aria-label="No user access" type="radio" id="user-no-access" name="user-access" class="radio-input" checked)
            label(for="user-no-access") No access
            input(aria-label="Users able to view" type="radio" id="user-view-access" name="user-access" class="radio-input")
            label(for="user-view-access") Read

      section.completed(id="completed-section")
        span.row
          button.secondary-btn.text-accent-darkest.bold.washed-accent(aria-label="Save draft", id="save-draft") Save as Draft
          button.primary-btn.text-accent-darkkest.bold.tertiary-accent.icon.create-icon.sweep-left(aria-label="Create Phenotype", id="create-phenotype") Create Phenotype


    footer
      section.row
        span.items
          a(href="#") Terms & Conditions
          a(href="#") Privacy Policy
          a(href="#") Contact Us
        span.copyright Copyright © 2022 - SAIL Databank - Swansea University. All rights reserved.

    div.modal
      div.modal-content.wizard-modal
        div.modal-header Create Concept
        div.modal-body
          div.page-view.show(id="modal-view-1")
            label.input Name
            span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            input(aria-label="Concept Name", type="text", id="concept-name", name="concept-name", class="text-input", placeholder="", minlength="3", pattern="\w{1,}.*?", required)
            
            label.input Description
            span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            textarea(aria-label="Concept Description", id="concept-description", name="concept-description", class="text-area-input", rows="4", autocorrect="on", autocomplete="off", minlength="5", spellcheck="default", wrap="soft", pattern="\w{1,}.*?", required)
            
            label.input Coding System
            span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            select(aria-label="Select Coding System", name="coding-system", id="coding-system", class="selection-input", required)
              option(disabled, value="", selected, hidden) Select
              option(value="0") ICD-10
              option(value="1") Read Codes v2
              option(value="2") Med codes
              option(value="3") SNOMED CT codes
          
          div.page-view(id="modal-view-2")
            label.input Codelist
            span.description.sm Lorem ipsum dolor sit amet, consectetur adipiscing elit.
            input(aria-label="Search codelist", type="text", class="text-input", placeholder="Search by code or term...")
            section.codelist-selection-container
              ul.codelist-tree-hierarchy
                li
                  details(open)
                    summary
                      div.item
                        span.tree-button-group
                          button.include
                          button.deselect
                          button.exclude
                        span.description Infectious and parasitic diseases
                    ul
                      li
                        details
                          summary
                            div.item
                              span.tree-button-group
                                button.include
                                button.deselect
                                button.exclude
                              span.description Intestinal infectious diseases
                          ul
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Cholera
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Typhoid
                      li
                        details
                          summary
                            div.item
                              span.tree-button-group
                                button.include
                                button.deselect
                                button.exclude
                              span.description Tuberculosis
                          ul
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Respiratory tuberculosis
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Tuberculosis of the nervous system
                li
                  details
                    summary
                      div.item
                        span.tree-button-group
                          button.include
                          button.deselect
                          button.exclude
                        span.description Neoplasms
                    ul
                      li
                        details
                          summary
                            div.item
                              span.tree-button-group
                                button.include
                                button.deselect
                                button.exclude 
                              span.description Malignant neoplasms
                          ul
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Malignant neoplasms of oral cavity
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Malignant neoplasms of digestive organs
                      li
                        details
                          summary
                            div.item
                              span.tree-button-group
                                button.include
                                button.deselect
                                button.exclude
                              span.description In situ neoplasms
                          ul
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Carcinoma in situ of oral cavity
                            li
                              div.item
                                span.tree-button-group
                                  button.include
                                  button.deselect
                                  button.exclude
                                span.description Carcinoma in situ of other organs

        div.modal-footer
          span.buttons
            button.secondary-btn.text-accent-darkest.bold.washed-accent(aria-label="Cancel modal", id="cancel-modal") Cancel
            button.primary-btn.text-accent-darkkest.bold.tertiary-accent.icon.next-icon.sweep-left(aria-label="Create Concept", id="create-concept") Add Codes
